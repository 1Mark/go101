<p id="f-999-more-generic-examples-md"></p>
<h2>Zero value</h2>

<pre><code class="language-Go">func ZeroOf[T any]() (t T) {
	return 
}

func ZeroFor[T any](T)(t T) {
	return
}

func ZeroIt[T any](t *T) {
	*t = ZeroOf[T]
}
</code></pre>

<p>##</p>

<pre><code class="language-Go">type Number interface{int | int64 | int32 | float64 | float32}

func Abs[T Number](x T) T {
	if x &lt; 0 {
		return -x
	}
	return x
}
</code></pre>

<h2>Free list</h2>

<pre><code class="language-Go">package main

import &quot;fmt&quot;

type MapSet[Key, Val comparable] map[Key]map[Val]uint32

func (ms MapSet[Key, Val]) Put(k Key, v Val) {
	vm, ok := ms[k]
	if !ok {
		vm = make(map[Val]uint32)
		ms[k] = vm
	}
	vm[v]++
}

func main() {
	var x = make(MapSet[string, int])
	x.Put(&quot;Go&quot;, 2007)
	x.Put(&quot;Go&quot;, 2009)
	x.Put(&quot;Go&quot;, 2012)
	x.Put(&quot;Go&quot;, 2007)
	x.Put(&quot;Go&quot;, 2009)
	fmt.Println(x[&quot;Go&quot;]) // map[2007:2 2009:2 2012:1
	
	type Status = MapSet[bool, string]
	var y = make(Status, 100)
	y.Put(true, &quot;X&quot;)
	y.Put(false, &quot;Y&quot;)
	y.Put(true, &quot;X&quot;)
	y.Put(false, &quot;Z&quot;)
	y.Put(true, &quot;W&quot;)
	y.Put(false, &quot;Z&quot;)
	fmt.Println(y[true])  // map[W:1 X:2]
	fmt.Println(y[false]) // map[Y:1 Z:2]
}
</code></pre>

<pre><code class="language-Go">package main

func convert[A ~string, B ~rune|~byte, C []B](x C) &lt;-chan A {
	var as = make(chan A, len(x))
	for _, v := range x {
		as &lt;- A(v)
	}
	close(as)
	
	return as
}

func main() {
	var runes = []rune{65, 66, 67, 68, 69}
	var stringStream = convert[string](runes)
	for str := range stringStream {
		println(str)
	}
	
	var bytes = []byte{97, 98, 99, 100, 101}
	stringStream = convert[string](bytes)
	for str := range stringStream {
		println(str)
	}
}
</code></pre>

<p>##</p>

<pre><code class="language-Go">type Copyable[T any] interface {

	Copy() T

}

func copySlice[T Copyable[T]](s []T) []T {

	s2 := make([]T, len(s))

	for i := range s {

		s2[i] = s[i].Copy()

	}

	return s2

}
</code></pre>

<h2>Examples:</h2>

<p>atomic
math functions</p>

<p>An example which is some involuted.</p>

<ul>
<li>the problems to solve

<ul>
<li>math.Max</li>
<li>atomic.StorePointer</li>
<li>container/list</li>
<li>simplfy code generation</li>
<li>MyList, MyTree, ...</li>
<li>byte slice and string</li>
</ul></li>
</ul>

<p><a href="https://github.com/golang/go/issues/51909">https://github.com/golang/go/issues/51909</a></p>
